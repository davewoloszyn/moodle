define("core/togglesensitive",["exports","core/pagehelpers"],(function(_exports,_pagehelpers){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * JS module for toggling the sensitive input visibility (e.g. passwords, keys).
   *
   * @module     core/togglesensitive
   * @copyright  2023 David Woloszyn <david.woloszyn@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const SELECTORS_WRAPPER=".toggle-sensitive-wrapper",SELECTORS_SENSITIVE=".toggle-sensitive-field",SELECTORS_BUTTON=".toggle-sensitive-button",SELECTORS_ICON=".toggle-sensitive-icon";_exports.init=smallscreensonly=>{registerListenerEvents(smallscreensonly)};const registerListenerEvents=smallscreensonly=>{document.addEventListener("click",(e=>{if(e.target.closest(SELECTORS_BUTTON)){const wrapper=e.target.closest(SELECTORS_WRAPPER),sensitive=wrapper.querySelector(SELECTORS_SENSITIVE),icon=wrapper.querySelector(SELECTORS_ICON);toggleSensitiveVisibility(sensitive,icon)}})),smallscreensonly&&window.addEventListener("resize",(()=>{(0,_pagehelpers.isExtraSmall)()||document.querySelectorAll(SELECTORS_WRAPPER).forEach((element=>{const sensitive=element.querySelector(SELECTORS_SENSITIVE),icon=element.querySelector(SELECTORS_ICON);"text"===sensitive.getAttribute("type")&&toggleSensitiveVisibility(sensitive,icon)}))}))},toggleSensitiveVisibility=(sensitive,icon)=>{const type="password"===sensitive.getAttribute("type")?"text":"password";sensitive.setAttribute("type",type),icon.classList.toggle("fa-eye"),icon.classList.toggle("fa-eye-slash")}}));

//# sourceMappingURL=togglesensitive.min.js.map